<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator</title>
    <style>
        nav {
            background-color: #333;
            padding: 10px;
            text-align: center;
        }
        nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            font-size: 1.2em;
        }
        nav a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <nav>
        <a href="index.html">Mobs</a>
        <a href="items.min.html">Items</a>
        <a href="calculator.min.html">Energy Calculator</a>
        <a href="vaultcrackers.html">Vault Code Generator</a>
    </nav>
    <h1>Password Generator</h1>

    <label for="dials">Number of Required Digits (Dials):</label>
    <input id="dials" type="number" min="1" max="10" value="6">

    <label for="digits">Total Code Length:</label>
    <input id="digits" type="number" min="1" max="10" value="8">

    <label for="requiredDigits">Required Digits (comma-separated):</label>
    <input id="requiredDigits" type="text" placeholder="e.g., 0,1,2,3,4,5">

    <label for="startIndex">Start Index:</label>
    <input id="startIndex" type="number" min="0" value="0">

    <label for="codeCount">Number of Codes:</label>
    <input id="codeCount" type="number" min="1" value="50">

    <button id="generate">Generate Codes</button>

    <h2>Generated Codes</h2>
    <textarea id="output" rows="10" cols="50" readonly></textarea>
    <br>
    <button id="copy">Copy to Clipboard</button>

    <script>
        document.getElementById("generate").addEventListener("click", generateCodes);
        document.getElementById("copy").addEventListener("click", copyToClipboard);

        function generateCodes() {
            const dials = parseInt(document.getElementById("dials").value);
            const digits = parseInt(document.getElementById("digits").value);
            const requiredDigits = document.getElementById("requiredDigits").value.split(",").map(d => d.trim());
            const startIndex = parseInt(document.getElementById("startIndex").value);
            const codeCount = parseInt(document.getElementById("codeCount").value);

            if (requiredDigits.length !== dials) {
                alert("Number of required digits must match the number of dials.");
                return;
            }

            // Generate all valid codes
            const allCodes = generateAllCodes(digits, requiredDigits);

            // Extract the subset
            const selectedCodes = allCodes.slice(startIndex, startIndex + codeCount);

            // Output to the textarea
            document.getElementById("output").value = selectedCodes.join("\n");
        }

        function generateAllCodes(length, requiredDigits) {
            const allDigits = Array.from({ length: 10 }, (_, i) => i.toString());

            // Filter combinations to include required digits
            const combinations = generateCombinations(allDigits, length);
            return combinations.filter(code => requiredDigits.every(d => code.includes(d))).sort();
        }

        function generateCombinations(digits, length) {
            const results = [];

            function backtrack(path) {
                if (path.length === length) {
                    results.push(path.join(""));
                    return;
                }
                for (const digit of digits) {
                    path.push(digit);
                    backtrack(path);
                    path.pop();
                }
            }

            backtrack([]);
            return results;
        }

        function copyToClipboard() {
            const output = document.getElementById("output");
            output.select();
            document.execCommand("copy");
            alert("Codes copied to clipboard!");
        }
    </script>
</body>
</html>
